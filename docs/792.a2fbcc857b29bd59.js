"use strict";(self.webpackChunkadminportal=self.webpackChunkadminportal||[]).push([[792],{9792:(J,f,r)=>{r.r(f),r.d(f,{DashboardModule:()=>I});var c=r(6895),g=r(9371),h=r(2340),t=r(8256),v=r(4691),b=r(7185),T=r(4054);let D=(()=>{class o{constructor(e){this.el=e,this.from=0,this.duration=4,this.e=this.el.nativeElement,this.refreshInterval=30,this.step=0}ngOnInit(){}ngOnChanges(){this.CountTo&&this.start()}calculate(){this.duration=1e3*this.duration,this.steps=Math.ceil(this.duration/this.refreshInterval),this.increment=(this.CountTo-this.from)/this.steps,this.num=this.from}tick(){setTimeout(()=>{this.num+=this.increment,this.step++,this.step>=this.steps?(this.num=this.CountTo,this.e.textContent=this.CountTo):(this.e.textContent=Math.round(this.num),this.tick())},this.refreshInterval)}start(){this.calculate(),this.tick()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(t.SBq))},o.\u0275dir=t.lG2({type:o,selectors:[["","CountTo",""]],inputs:{from:"from",duration:"duration",CountTo:"CountTo"},features:[t.TTD]}),o})(),y=(()=>{class o{static forRoot(){return{ngModule:o,providers:[]}}static forChild(){return{ngModule:o,providers:[]}}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({}),o})();var p=r(5804),C=r(1077);function S(o,n){if(1&o&&(t.TgZ(0,"div",14)(1,"div",15)(2,"div")(3,"div",16)(4,"div",17)(5,"div",18),t._UZ(6,"app-feather-icon",19),t.qZA()(),t.TgZ(7,"div",20)(8,"span",21),t._uU(9),t.qZA(),t.TgZ(10,"h3",22),t._uU(11,"\u20b9 "),t._UZ(12,"span",23),t.TgZ(13,"small"),t._uU(14,"This Year"),t.qZA()()()()()()()),2&o){const e=n.$implicit,a=t.oxw();t.xp6(2),t.Tol(e.bgColorClass),t.xp6(4),t.Tol(e.fontColorClass),t.Q6J("icon",e.icon),t.xp6(3),t.Oqu(e.title),t.xp6(3),t.Q6J("CountTo",e.count)("from",a.count.from)("duration",a.count.duration)}}function A(o,n){if(1&o&&t._UZ(0,"google-chart",24),2&o){const e=t.oxw();t.Q6J("data",e.orderStatusChart)}}const M=[{path:"default",component:(()=>{class o{constructor(e,a){this._httpService=e,this._toastr=a,this.count={from:0,duration:1},this.objCountData=[{bgColorClass:"bg-warning card-body",fontColorClass:"font-warning",icon:"navigation",title:"Orders",count:0},{bgColorClass:"bg-secondary card-body",fontColorClass:"font-secondary",icon:"box",title:"Shipping Amount",count:0},{bgColorClass:"bg-primary card-body",fontColorClass:"font-primary",icon:"message-square",title:"Cash On Delivery",count:0},{bgColorClass:"bg-danger card-body",fontColorClass:"font-danger",icon:"users",title:"Cancelled",count:0}],this.settings={actions:!1,hideSubHeader:!0,columns:{orderId:{title:"Order Id"},orderStatus:{title:"Order Status",type:"html"},paymentDate:{title:"Payment Date"},paymentMethod:{title:"Payment Method"},paymentStatus:{title:"Payment Status",type:"html"},shippingAmount:{title:"Shipping Amount"},subTotalAmount:{title:"SubTotal Amount"},totalAmount:{title:"Total Amount"}}},this.orders=[]}ngOnInit(){this.getNetFigure(),this.getOrdersData(),this.GetOrderStatusChart()}getOrdersData(){this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetReportManageOrder").subscribe(e=>{e.isSuccess?this.orders=e.data:this._toastr.error(e.errors[0],"Dashboard")})}getNetFigure(){this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetReportNetFigure").subscribe(e=>{e.isSuccess?(this.objCountData[0].count=e.data[0].orders,this.objCountData[1].count=e.data[0].shippingAmount,this.objCountData[2].count=e.data[0].cashOnDelivery,this.objCountData[3].count=e.data[0].cancelled):this._toastr.error(e.errors[0],"Dashboard")})}GetOrderStatusChart(){let e=[],a=["Date"];this._httpService.get(h.N.BASE_API_PATH+"PaymentMaster/GetChartOrderStatus").subscribe(m=>{if(m.isSuccess){let l=m.data,F=l.map(s=>s.date).filter((s,i,d)=>d.indexOf(s)===i),u=l.map(s=>s.orderStatus).filter((s,i,d)=>d.indexOf(s)===i);for(let s of u)a.push(s);e.push(a);for(let s of F){a=[],a.push(s);for(let i of u)a.push(0);for(let i in u)for(let d in l)u[i]===l[d].orderStatus&&s===l[d].date&&(a[parseInt(i)+1]=l[d].counts);e.push(a)}this.orderStatusChart={chartType:"ColumnChart",dataTable:e,options:{legend:{position:"none"},bars:"vertical",vAxis:{format:"decimal"},height:340,width:"100%",colors:["#ff7f83","#a5a5a5"],backgroundColor:"transparent"}}}else this._toastr.error(m.errors[0],"Dashboard")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(v.O),t.Y36(b._W))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-dashboard"]],decls:20,vars:4,consts:[[1,"container-fluid"],[1,"row"],["class","col-xl-3 col-md-6 xl-50",4,"ngFor","ngForOf"],[1,"col-xl-12","xl-100"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"user-status","table-responsive","latest-order-table"],["id","batchDelete",1,"category-table","custom-datatable","transcation-datatable"],[1,"table-responsive"],[3,"settings","source"],[1,"col-sm-12"],[1,"card-body","sell-graph"],[3,"ngIf"],[1,"col-xl-3","col-md-6","xl-50"],[1,"card","o-hidden","widget-cards"],[1,"media","static-top-widget","row"],[1,"icons-widgets","col-4"],[1,"align-self-center","text-center"],[3,"icon"],[1,"media-body","col-8"],[1,"m-0"],[1,"mb-0"],[1,"counter",3,"CountTo","from","duration"],[3,"data"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,S,15,9,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5"),t._uU(7,"Latest Orders"),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9),t._UZ(12,"ng2-smart-table",10),t.qZA()()()()()(),t.TgZ(13,"div",11)(14,"div",4)(15,"div",5)(16,"h5"),t._uU(17,"Order Status"),t.qZA()(),t.TgZ(18,"div",12),t.YNc(19,A,1,1,"ng-template",13),t.qZA()()()()()),2&e&&(t.xp6(2),t.Q6J("ngForOf",a.objCountData),t.xp6(10),t.Q6J("settings",a.settings)("source",a.orders),t.xp6(7),t.Q6J("ngIf",a.orderStatusChart))},dependencies:[c.sg,c.O5,T.T,D,p.T5,C.P4]}),o})()}];let O=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.Bz.forChild(M),g.Bz]}),o})();var x=r(4466),Z=r(433);let I=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.ez,O,x.m,Z.UX,y,p.ne,C.Ye]}),o})()}}]);